<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ˜Œäº”å¿ æŠ½ç±¤è½‰ç›¤</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .wheel-container {
            position: relative;
            width: calc(min(90vw, 90vh));  /* æ ¹æ“šè¢å¹•å¯¬é«˜çš„æœ€å°å€¼ä¾†è¨­ç½®å¤§å° */
            height: calc(min(90vw, 90vh)); /* ä¿æŒæ­£åœ“å½¢ï¼Œé¿å…éé«˜æˆ–éå¯¬ */
            max-width: 800px;  /* è¨­å®šæœ€å¤§å¯¬åº¦ */
            max-height: 800px; /* è¨­å®šæœ€å¤§é«˜åº¦ */
        }
        

        #wheel {
            width: 100%;
            /* è¨­å®šç‚º100%ç¢ºä¿èˆ‡å®¹å™¨å¯¬åº¦ä¸€è‡´ */
            height: 100%;
            /* è¨­å®šç‚º100%ç¢ºä¿èˆ‡å®¹å™¨é«˜åº¦ä¸€è‡´ */
            border-radius: 50%;
            border: 5px solid #333;
            position: absolute;
            transform: rotate(0deg);
            transition: transform 5s cubic-bezier(0.33, 1, 0.68, 1);
        }

        .arrow {
            position: absolute;
            top: 35%;
            left: 100%;
            transform: translateX(-50%, -50%);
            font-size: 5rem;
            color: red;
            z-index: 10;
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>

<body>

    <div class="wheel-container">
        <div class="arrow">ğŸ‘ˆ</div>
        <canvas id="wheel" width="800" height="800"></canvas> <!-- è¨­å®šå¯¬åº¦å’Œé«˜åº¦ -->
    </div>

    <button onclick="spin()">é–‹å§‹æŠ½ç±¤</button>

    <script>
        // åå–®
        const names = [
            "1 å»–ç¾¿éœ", "2 åŠ‰å§®å®‡", "3 åŠ‰å˜‰æ©", "4 æ›¾å®‰è¾°", "5 å»–å­å¯§",
            "6 æ—æ˜•æ©", "7 ç‹æ”¿æ£‹", "8 é™³å½¥ç¿”", "9 æ—ç¥ˆæ©", "10 å½­ä¹‹å¦",
            "11 ç¿èç”¯", "12 å½­è©©æ™´", "13 é™³ç¶ºçœŸ", "14 è¬å½°éµ", "15 æ—èŠ·ä¼¶",
            "16 é»ƒç¿Šæ™´", "17 èŠç¬åª›", "18 è¨±å“²é½Š", "19 æ²ˆå®¸é€¸", "20 é™³ä¿Šå®‰",
            "21 è‘‰èŠ¯å¦¤", "22 éƒ­é‡‡è“", "23 æŸ¯è© ç€š", "24 éƒ­åº­å¦¤", "25 é™³åŠ›å®‡",
            "26 æå°¹æ—­", "27 é‚±å‰å€«", "28 æ­¦å®¸å®‡", "29 é»ƒå‰å‰"
        ];

        const wheel = document.getElementById('wheel');
        const ctx = wheel.getContext('2d');
        const wheelRadius = wheel.width / 2;
        let rotation = 0; // åˆå§‹åŒ–æ—‹è½‰è§’åº¦
        let isSpinning = false; // åˆ¤æ–·æ˜¯å¦æ­£åœ¨æ—‹è½‰
        const colors = [];

        // å‹•æ…‹èª¿æ•´ç•«å¸ƒå¤§å°
        function resizeCanvas() {
            const container = document.querySelector('.wheel-container');
            const size = Math.min(container.offsetWidth, container.offsetHeight);  // ç¢ºä¿å¯¬åº¦å’Œé«˜åº¦ä¸€è‡´
            wheel.width = size;
            wheel.height = size;
            drawWheel();  // æ¯æ¬¡æ”¹è®Šå°ºå¯¸å¾Œé‡æ–°ç¹ªè£½è½‰ç›¤
        }
        

        function getRandomColor() {
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function drawWheel() {
            const wheelRadius = wheel.width / 2;
            const arcSize = (2 * Math.PI) / names.length;
            ctx.clearRect(0, 0, wheel.width, wheel.height);
            names.forEach((name, i) => {
                const angle = i * arcSize;
                const randomColor = getRandomColor();
                colors.push(randomColor);
                ctx.beginPath();
                ctx.fillStyle = randomColor;
                ctx.moveTo(wheelRadius, wheelRadius);
                ctx.arc(wheelRadius, wheelRadius, wheelRadius, angle, angle + arcSize);
                ctx.lineTo(wheelRadius, wheelRadius);
                ctx.fill();
                ctx.save();
                ctx.translate(wheelRadius, wheelRadius);
                ctx.rotate(angle + arcSize / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#FFF";
                ctx.font = 'bold 22px Arial';
                ctx.fillText(name, wheelRadius - 10, 10);
                ctx.restore();
            });
        }

        function spin() {
            if (isSpinning) return;

            isSpinning = true;

            const totalSpins = Math.floor(Math.random() * 5) + 5;
            const finalAngle = Math.floor(Math.random() * 360);
            const totalAngle = totalSpins * 360 + finalAngle;

            rotation += totalAngle;
            wheel.style.transform = `rotate(${rotation}deg)`;

            const arcSize = 360 / names.length;
            const selectedIndex = Math.floor((360 - (rotation % 360)) / arcSize) % names.length;

            setTimeout(() => {
                alert(`ä¸­ç±¤çš„å­¸ç”Ÿæ˜¯: ${names[selectedIndex]}`);
                isSpinning = false;
            }, 5000);
        }

        window.onload = () => {
            resizeCanvas(); // åˆå§‹åŒ–èª¿æ•´ç•«å¸ƒå¤§å°
            window.addEventListener('resize', resizeCanvas); // ç•¶è¦–çª—å¤§å°æ”¹è®Šæ™‚é‡æ–°èª¿æ•´
        };
    </script>

</body>

</html>
