<!DOCTYPE html>
<html lang="zh-tw">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åŒ—æ˜Œäº”å¿ æŠ½ç±¤è½‰ç›¤</title>
    <style>
        body {
            
            display: flex;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            height: 100vh;
            font-family: Arial, sans-serif;
        }

        .wheel-container {
            position: relative;
            width: 800px;
            height: 800px;
        }

        #wheel {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 5px solid #333;
            position: absolute;
            transform: rotate(0deg);
            transition: transform 5s cubic-bezier(0.33, 1, 0.68, 1);
        }

        .arrow {


            position: absolute;
            top: 40%; /* å‚ç›´ä¸­å¿ƒ */


            left: 100%;/* ç½®æ–¼è½‰ç›¤å³å´ */


            transform: translateX(-50%, -50%); /* ä½¿æŒ‡é‡å‚ç›´å’Œæ°´å¹³å±…ä¸­ */


            font-size: 5rem;
            /* å¢åŠ æŒ‡é‡å¤§å° */


            color: red;
            /* æ›´æ”¹æŒ‡é‡é¡è‰² */
            z-index: 10;
            /* ç¢ºä¿æŒ‡é‡åœ¨å…¶ä»–å…ƒç´ ä¹‹ä¸Š */
        }

        button {
            margin-top: 20px;
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>

<body>

    <div class="wheel-container">
        <div class="arrow">ğŸ‘ˆ</div>
        <canvas id="wheel" width="800" height="800"></canvas> <!-- è¨­å®šå¯¬åº¦å’Œé«˜åº¦ -->
    </div>

    <button onclick="spin()">é–‹å§‹æŠ½ç±¤</button>

    <script>
        // åå–® - ä½ æä¾›çš„29äººåå–®
        const names = [
            "1 å»–ç¾¿éœ", "2 åŠ‰å§®å®‡", "3 åŠ‰å˜‰æ©", "4 æ›¾å®‰è¾°", "5 å»–å­å¯§",
            "6 æ—æ˜•æ©", "7 ç‹æ”¿æ£‹", "8 é™³å½¥ç¿”", "9 æ—ç¥ˆæ©", "10 å½­ä¹‹å¦",
            "11 ç¿èç”¯", "12 å½­è©©æ™´", "13 é™³ç¶ºçœŸ", "14 è¬å½°éµ", "15 æ—èŠ·ä¼¶",
            "16 é»ƒç¿Šæ™´", "17 èŠç¬åª›", "18 è¨±å“²é½Š", "19 æ²ˆå®¸é€¸", "20 é™³ä¿Šå®‰",
            "21 è‘‰èŠ¯å¦¤", "22 éƒ­é‡‡è“", "23 æŸ¯è© ç€š", "24 éƒ­åº­å¦¤", "25 é™³åŠ›å®‡",
            "26 æå°¹æ—­", "27 é‚±å‰å€«", "28 æ­¦å®¸å®‡", "29 é»ƒå‰å‰"
        ];

        const wheel = document.getElementById('wheel');
        const ctx = wheel.getContext('2d');
        const wheelRadius = wheel.width / 2;
        let rotation = 0; // åˆå§‹åŒ–æ—‹è½‰è§’åº¦
        let isSpinning = false; // åˆ¤æ–·æ˜¯å¦æ­£åœ¨æ—‹è½‰
        const colors = [];

        function getRandomColor() {
            // ç”¢ç”Ÿéš¨æ©Ÿé¡è‰²
            const letters = '0123456789ABCDEF';
            let color = '#';
            for (let i = 0; i < 6; i++) {
                color += letters[Math.floor(Math.random() * 16)];
            }
            return color;
        }

        function drawWheel() {
            const arcSize = (2 * Math.PI) / names.length;
            ctx.clearRect(0, 0, wheel.width, wheel.height);
            names.forEach((name, i) => {
                const angle = i * arcSize;
                const randomColor = getRandomColor();
                colors.push(randomColor); // ä¿å­˜é¡è‰²
                ctx.beginPath();
                ctx.fillStyle = randomColor;
                ctx.moveTo(wheelRadius, wheelRadius);
                ctx.arc(wheelRadius, wheelRadius, wheelRadius, angle, angle + arcSize);
                ctx.lineTo(wheelRadius, wheelRadius);
                ctx.fill();

                // åœ¨åˆ†å€ä¸­é¡¯ç¤ºåç¨±
                ctx.save();
                ctx.translate(wheelRadius, wheelRadius);
                ctx.rotate(angle + arcSize / 2);
                ctx.textAlign = "right";
                ctx.fillStyle = "#FFF";
                ctx.font = 'bold 22px Arial'; // å­—é«”å¤§å°èª¿æ•´
                ctx.fillText(name, wheelRadius - 10, 10);
                ctx.restore();
            });
        }

        function spin() {
            if (isSpinning) return; // é˜²æ­¢å¤šæ¬¡é»æ“Š

            isSpinning = true; // æ¨™è¨˜ç‚ºæ—‹è½‰ä¸­

            const totalSpins = Math.floor(Math.random() * 5) + 5; // éš¨æ©Ÿè½‰5-10åœˆ
            const finalAngle = Math.floor(Math.random() * 360); // éš¨æ©Ÿæœ€çµ‚è§’åº¦
            const totalAngle = totalSpins * 360 + finalAngle; // ç¸½æ—‹è½‰è§’åº¦

            rotation += totalAngle; // æ›´æ–°æ—‹è½‰è§’åº¦
            wheel.style.transform = `rotate(${rotation}deg)`;

            const arcSize = 360 / names.length;
            const selectedIndex = Math.floor((360 - (rotation % 360)) / arcSize) % names.length;

            setTimeout(() => {
                alert(`ä¸­ç±¤çš„å­¸ç”Ÿæ˜¯: ${names[selectedIndex]}`);
                isSpinning = false; // é‡ç½®æ—‹è½‰ç‹€æ…‹
            }, 5000); // ç­‰å¾…å‹•ç•«çµæŸå¾Œé¡¯ç¤ºçµæœ
        }

        window.onload = drawWheel;
    </script>

</body>

</html>
